var t=Math.pow(2,-52),r=new Uint32Array(512),i=function(){function i(r){var i=r.length>>1;if(i>0&&"number"!=typeof r[0])throw new Error("Expected coords to contain numbers.");this.coords=r;var a=2*i-5,e=this.triangles=new Uint32Array(3*a),f=this.halfedges=new Int32Array(3*a);this._hashSize=Math.ceil(Math.sqrt(i));for(var u=this.hullPrev=new Uint32Array(i),v=this.hullNext=new Uint32Array(i),y=this.hullTri=new Uint32Array(i),_=new Int32Array(this._hashSize).fill(-1),c=new Uint32Array(i),g=Infinity,d=Infinity,w=-Infinity,M=-Infinity,x=0;x<i;x++){var b=r[2*x],k=r[2*x+1];b<g&&(g=b),k<d&&(d=k),b>w&&(w=b),k>M&&(M=k),c[x]=x}for(var p,A,S,z=(g+w)/2,I=(d+M)/2,T=Infinity,U=0;U<i;U++){var K=n(z,I,r[2*U],r[2*U+1]);K<T&&(p=U,T=K)}var m=r[2*p],L=r[2*p+1];T=Infinity;for(var N=0;N<i;N++)if(N!==p){var q=n(m,L,r[2*N],r[2*N+1]);q<T&&q>0&&(A=N,T=q)}for(var E=r[2*A],D=r[2*A+1],F=Infinity,P=0;P<i;P++)if(P!==p&&P!==A){var j=s(m,L,E,D,r[2*P],r[2*P+1]);j<F&&(S=P,F=j)}var B=r[2*S],C=r[2*S+1];if(Infinity===F)throw new Error("No Delaunay triangulation exists for this input.");if(h(m,L,E,D,B,C)){var G=A,H=E,J=D;A=S,E=B,D=C,S=G,B=H,C=J}var O=l(m,L,E,D,B,C);this._cx=O.x,this._cy=O.y;for(var Q=new Float64Array(i),R=0;R<i;R++)Q[R]=n(r[2*R],r[2*R+1],O.x,O.y);o(c,Q,0,i-1),this.hullStart=p;var V=3;v[p]=u[S]=A,v[A]=u[p]=S,v[S]=u[A]=p,y[p]=0,y[A]=1,y[S]=2,_[this._hashKey(m,L)]=p,_[this._hashKey(E,D)]=A,_[this._hashKey(B,C)]=S,this.trianglesLen=0,this._addTriangle(p,A,S,-1,-1,-1);for(var W,X,Y=0;Y<c.length;Y++){var Z=c[Y],$=r[2*Z],tt=r[2*Z+1];if(!(Y>0&&Math.abs($-W)<=t&&Math.abs(tt-X)<=t)&&(W=$,X=tt,Z!==p&&Z!==A&&Z!==S)){for(var rt=0,it=0,at=this._hashKey($,tt);it<this._hashSize&&(-1===(rt=_[(at+it)%this._hashSize])||rt===v[rt]);it++);for(var nt=rt=u[rt],ht=void 0;!h($,tt,r[2*nt],r[2*nt+1],r[2*(ht=v[nt])],r[2*ht+1]);)if((nt=ht)===rt){nt=-1;break}if(-1!==nt){var et=this._addTriangle(nt,Z,v[nt],-1,-1,y[nt]);y[Z]=this._legalize(et+2),y[nt]=et,V++;for(var st=v[nt];h($,tt,r[2*st],r[2*st+1],r[2*(ht=v[st])],r[2*ht+1]);)et=this._addTriangle(st,Z,ht,y[Z],-1,y[st]),y[Z]=this._legalize(et+2),v[st]=st,V--,st=ht;if(nt===rt)for(;h($,tt,r[2*(ht=u[nt])],r[2*ht+1],r[2*nt],r[2*nt+1]);)et=this._addTriangle(ht,Z,nt,-1,y[nt],y[ht]),this._legalize(et+2),y[ht]=et,v[nt]=nt,V--,nt=ht;this.hullStart=u[Z]=nt,v[nt]=u[st]=Z,v[Z]=st,_[this._hashKey($,tt)]=Z,_[this._hashKey(r[2*nt],r[2*nt+1])]=nt}}}this.hull=new Uint32Array(V);for(var lt=0,ot=this.hullStart;lt<V;lt++)this.hull[lt]=ot,ot=v[ot];this.hullPrev=this.hullNext=this.hullTri=null,this.triangles=e.subarray(0,this.trianglesLen),this.halfedges=f.subarray(0,this.trianglesLen)}i.from=function(t){for(var r=t.length,a=new Float64Array(2*r),n=0;n<r;n++){var h=t[n];a[2*n]=h[0],a[2*n+1]=h[1]}return new i(a)};var f=i.prototype;return f._hashKey=function(t,r){return Math.floor(a(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize},f._legalize=function(t){for(var i=this.triangles,a=this.coords,n=this.halfedges,h=0,s=0;;){var l=n[t],o=t-t%3;if(s=o+(t+2)%3,-1!==l){var f=l-l%3,u=f+(l+2)%3,v=i[s],y=i[t],_=i[o+(t+1)%3],c=i[u];if(e(a[2*v],a[2*v+1],a[2*y],a[2*y+1],a[2*_],a[2*_+1],a[2*c],a[2*c+1])){i[t]=c,i[l]=v;var g=n[u];if(-1===g){var d=this.hullStart;do{if(this.hullTri[d]===u){this.hullTri[d]=t;break}d=this.hullNext[d]}while(d!==this.hullStart)}this._link(t,g),this._link(l,n[s]),this._link(s,u),h<r.length&&(r[h++]=f+(l+1)%3)}else{if(0===h)break;t=r[--h]}}else{if(0===h)break;t=r[--h]}}return s},f._link=function(t,r){this.halfedges[t]=r,-1!==r&&(this.halfedges[r]=t)},f._addTriangle=function(t,r,i,a,n,h){var e=this.trianglesLen;return this.triangles[e]=t,this.triangles[e+1]=r,this.triangles[e+2]=i,this._link(e,a),this._link(e+1,n),this._link(e+2,h),this.trianglesLen+=3,e},i}();function a(t,r){var i=t/(Math.abs(t)+Math.abs(r));return(r>0?3-i:1+i)/4}function n(t,r,i,a){var n=t-i,h=r-a;return n*n+h*h}function h(t,r,i,a,n,h){return(a-r)*(n-i)-(i-t)*(h-a)<0}function e(t,r,i,a,n,h,e,s){var l=t-e,o=r-s,f=i-e,u=a-s,v=n-e,y=h-s,_=f*f+u*u,c=v*v+y*y;return l*(u*c-_*y)-o*(f*c-_*v)+(l*l+o*o)*(f*y-u*v)<0}function s(t,r,i,a,n,h){var e=i-t,s=a-r,l=n-t,o=h-r,f=e*e+s*s,u=l*l+o*o,v=.5/(e*o-s*l),y=(o*f-s*u)*v,_=(e*u-l*f)*v;return y*y+_*_}function l(t,r,i,a,n,h){var e=i-t,s=a-r,l=n-t,o=h-r,f=e*e+s*s,u=l*l+o*o,v=.5/(e*o-s*l);return{x:t+(o*f-s*u)*v,y:r+(e*u-l*f)*v}}function o(t,r,i,a){if(a-i<=20)for(var n=i+1;n<=a;n++){for(var h=t[n],e=r[h],s=n-1;s>=i&&r[t[s]]>e;)t[s+1]=t[s--];t[s+1]=h}else{var l=i+1,u=a;f(t,i+a>>1,l),r[t[i]]>r[t[a]]&&f(t,i,a),r[t[l]]>r[t[a]]&&f(t,l,a),r[t[i]]>r[t[l]]&&f(t,i,l);for(var v=t[l],y=r[v];;){do{l++}while(r[t[l]]<y);do{u--}while(r[t[u]]>y);if(u<l)break;f(t,l,u)}t[i+1]=t[u],t[u]=v,a-l+1>=u-i?(o(t,r,l,a),o(t,r,i,u-1)):(o(t,r,i,u-1),o(t,r,l,a))}}function f(t,r,i){var a=t[r];t[r]=t[i],t[i]=a}function u(t){void 0===t&&(t=1);var r=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],i=new Uint8Array(512),a=(Math.sqrt(3)-1)/2,n=(3-Math.sqrt(3))/6,h=function(t,r){return t[0]*r[0]+t[1]*r[1]},e=function(t,r){return[t[0]-r[0],t[1]-r[1]]};return new(function(){function t(t){void 0===t&&(t=1);for(var r=0;r<512;r++)i[r]=255&r;for(var a=0;a<255;a++){var n=(t=this.hash(a+t))%(256-a)+a,h=i[a];i[a+256]=i[a]=i[n],i[n+256]=i[n]=h}}var s=t.prototype;return s.noise2D=function(t){var s=h(t,[a,a]),l=[Math.floor(t[0]+s),Math.floor(t[1]+s)],o=255&l[0],f=255&l[1],u=h(l,[n,n]),v=e(t,e(l,[u,u])),y=v[0]>v[1]?[1,0]:[0,1],_=e(e(v,y),[-n,-n]),c=e(v,[1-2*n,1-2*n]),g=Math.pow(Math.max(0,.5-h(v,v)),4)*h(r[i[o+i[f]]%12],v);return 70*((g+=Math.pow(Math.max(0,.5-h(_,_)),4)*h(r[i[o+y[0]+i[f+y[1]]]%12],_))+Math.pow(Math.max(0,.5-h(c,c)),4)*h(r[i[o+1+i[f+1]]%12],c))},s.hash=function(t){var r=1103515245*((t=1103515245*(t>>1^t))^t>>3);return r^r>>16},t}())(t)}export{i as Delaunator,u as SimplexNoise,l as circumcenter,s as circumradius,n as dist,e as inCircle,h as orient,a as pseudoAngle,o as quicksort,f as swap};
//# sourceMappingURL=index.module.js.map
